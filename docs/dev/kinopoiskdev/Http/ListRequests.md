# ListRequests

**Описание:** Класс для API-запросов, связанных с коллекциями и списками фильмов
Этот класс расширяет базовый класс Kinopoisk и предоставляет специализированные
методы для работы с коллекциями фильмов (топ-250, жанровые подборки, тематические списки) из API Kinopoisk.dev.

**С версии:** 1.0.0

**Версия:** 1.0.0

## `getListBySlug()`

**Описание:** Получает конкретную коллекцию по её slug

**API Endpoint:** `/v1.4/list/{slug}`

**Параметры:**

* `$slug` (string): Уникальный идентификатор коллекции (например: 'top250', 'popular-films')

**Возвращает:** `\KinopoiskDev\Models\Lists` Коллекция фильмов со всеми доступными данными

**Исключения:**

* `KinopoiskDevException`: При ошибках API или проблемах с сетью
* `\JsonException`: При ошибках парсинга JSON
* `\KinopoiskDev\Exceptions\KinopoiskResponseException`: 

**Ссылка:** https://kinopoiskdev.readme.io/reference/listcontroller_findonev1_4

## `getListsByCategory()`

**Описание:** Получает коллекции по категории

**Параметры:**

* `$category` (\KinopoiskDev\Enums\ListCategory): Категория коллекций
* `$page` (int): Номер страницы
* `$limit` (int): Количество результатов на странице

**Возвращает:** `ListDocsResponseDto` Коллекции указанной категории

**Исключения:**

* `\JsonException`: При ошибках парсинга JSON
* `\KinopoiskDev\Exceptions\KinopoiskDevException`: При ошибках API
* `\KinopoiskDev\Exceptions\KinopoiskResponseException`: 

## `getAllLists()`

**Описание:** Получает все доступные коллекции с возможностью фильтрации и пагинации
Выполняет запрос к API Kinopoisk.dev для получения списка всех коллекций фильмов
с поддержкой расширенной фильтрации и постраничной навигации.
Можно фильтровать по категориям, названиям и другим параметрам коллекций.
(категория, название, количество фильмов).
При значении null создается новый экземпляр MovieSearchFilter без фильтров
250)
(общее количество, количество страниц, текущая страница)

**С версии:** 1.0.0

**Версия:** 1.0.0

**API Endpoint:** `/v1.4/list`

**Параметры:**

* `$filters` (MovieSearchFilter|null): Объект фильтрации для поиска коллекций по различным критериям
* `$page` (int): Номер запрашиваемой страницы результатов, начиная с 1 (по умолчанию 1)
* `$limit` (int): Максимальное количество результатов на одной странице (по умолчанию 10, максимум ограничен API до

**Возвращает:** `ListDocsResponseDto` Объект ответа, содержащий массив коллекций и метаданные пагинации

**Исключения:**

* `KinopoiskDevException`: При ошибках валидации данных, неправильных параметрах запроса или проблемах с инициализацией объектов
* `KinopoiskResponseException`: При ошибках HTTP-запроса к API (401, 403, 404)
* `\JsonException`: При ошибках парсинга JSON-ответа от API, некорректном формате данных или повреждении ответа

**См. также:**

* `\KinopoiskDev\Filter\MovieSearchFilter`: Класс для настройки фильтрации коллекций
* `\KinopoiskDev\Responses\Api\ListDocsResponseDto`: Структура ответа API

