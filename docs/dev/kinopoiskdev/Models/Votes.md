# Votes

**Описание:** Класс для представления количества голосов из различных источников
Содержит информацию о количестве голосов для фильма/сериала из различных
источников, включая Кинопоиск, IMDB, TMDB, а также голоса кинокритиков
и ожидания зрителей. Используется для анализа популярности произведения.

**С версии:** 1.0.0

**Версия:** 1.0.0

**См. также:**

* `\KinopoiskDev\Models\Movie::getVotes`: () Для получения голосов фильма
* `\KinopoiskDev\Models\Rating`: Для информации о рейтингах

## `__construct()`

**Описание:** Конструктор для создания объекта голосов
Создает новый экземпляр класса Votes с количеством голосов из различных источников.
Все параметры являются опциональными и могут быть NULL при отсутствии
соответствующей информации в источнике данных.

**Параметры:**

* `$kp` (int|null): Количество голосов на Кинопоиске
* `$imdb` (int|null): Количество голосов на IMDB
* `$tmdb` (int|null): Количество голосов на The Movie Database
* `$filmCritics` (int|null): Количество голосов кинокритиков
* `$russianFilmCritics` (int|null): Количество голосов российских кинокритиков
* `$await` (int|null): Количество голосов ожидания

**См. также:**

* `Votes::fromArray`: () Для создания объекта из массива данных API
* `Votes::toArray`: () Для преобразования объекта в массив

## `__toString()`

**Описание:** Возвращает строковое представление голосов
Реализует магический метод __toString для преобразования объекта
в строку. Формирует строку, содержащую основные голоса в удобочитаемом
формате, разделенные запятыми.

**Возвращает:** `string` Строковое представление голосов или 'No votes', если голоса отсутствуют

**См. также:**

* `Votes::formatVoteCount`: () Для форматирования количества голосов
* `Votes::getFormattedKpVotes`: () Для получения отформатированных голосов Кинопоиска
* `Votes::getFormattedImdbVotes`: () Для получения отформатированных голосов IMDB

## `fromArray()`

**Описание:** Создает объект Votes из массива данных API
Фабричный метод для создания экземпляра класса Votes из массива данных,
полученных от API Kinopoisk.dev. Безопасно обрабатывает отсутствующие
значения и преобразует строковые значения в числовые.
- kp: int|null - количество голосов на Кинопоиске
- imdb: int|null - количество голосов на IMDB
- tmdb: int|null - количество голосов на TMDB
- filmCritics: int|null - количество голосов кинокритиков
- russianFilmCritics: int|null - количество голосов российских кинокритиков
- await: int|null - количество голосов ожидания

**Параметры:**

* `$data` (array): Массив данных о голосах от API, содержащий ключи:

**Возвращает:** `\KinopoiskDev\Models\Votes` Новый экземпляр класса Votes с данными из массива

**См. также:**

* `Votes::toArray`: () Для обратного преобразования в массив

## `toArray()`

**Описание:** Преобразует объект в массив данных
Конвертирует текущий экземпляр класса Votes в массив,
совместимый с форматом API Kinopoisk.dev. Используется для сериализации
данных при отправке запросов к API или для экспорта данных.

**Возвращает:** `array` Массив с данными о количестве голосов из различных источников

**См. также:**

* `Votes::fromArray`: () Для создания объекта из массива

## `getTotalVotes()`

**Описание:** Возвращает общее количество голосов со всех платформ
Суммирует количество голосов из всех доступных источников,
включая Кинопоиск, IMDB, TMDB, голоса кинокритиков и ожидания.
Игнорирует отсутствующие (null) значения при подсчете.

**Возвращает:** `int` Общее количество голосов со всех платформ

**См. также:**

* `Votes::getAvailableVotes`: () Для получения голосов в виде ассоциативного массива
* `Votes::getMostVotedPlatform`: () Для определения платформы с наибольшим количеством голосов

## `getMostVotedPlatform()`

**Описание:** Возвращает платформу с наибольшим количеством голосов
Определяет, какая из платформ (Кинопоиск, IMDB, TMDB и т.д.) имеет
наибольшее количество голосов. Используется для определения наиболее
популярного источника оценок для данного фильма или сериала.

**Возвращает:** `string|null` Ключ платформы с наибольшим количеством голосов или null, если голоса отсутствуют

**См. также:**

* `Votes::getAvailableVotes`: () Для получения всех доступных голосов
* `Votes::getTotalVotes`: () Для получения общего количества голосов

## `getAvailableVotes()`

**Описание:** Возвращает все доступные голоса в виде ассоциативного массива
Собирает все ненулевые значения голосов в ассоциативный массив, где ключи
соответствуют источникам голосов, а значения - количеству голосов.
Используется для получения полного набора голосов в удобном формате.

**Возвращает:** `array` Ассоциативный массив доступных голосов

**См. также:**

* `Votes::hasAnyVotes`: () Для проверки наличия хотя бы одного голоса
* `Votes::getTotalVotes`: () Для получения общего количества голосов

## `hasAnyVotes()`

**Описание:** Проверяет наличие хотя бы одного голоса
Определяет, существует ли хотя бы один голос из любого источника.
Учитывает все возможные источники голосов, включая голоса ожидания и критиков.

**Возвращает:** `bool true,` если существует хотя бы один голос, иначе false

**См. также:**

* `Votes::getAvailableVotes`: () Для получения всех доступных голосов

## `getFormattedKpVotes()`

**Описание:** Возвращает отформатированное количество голосов Кинопоиска
Предоставляет количество голосов с Кинопоиска в удобочитаемом формате
с использованием суффиксов K/M. Возвращает null, если голоса отсутствуют.

**Возвращает:** `string|null` Отформатированное количество голосов или null, если голоса отсутствуют

**См. также:**

* `Votes::formatVoteCount`: () Для форматирования количества голосов
* `Votes::getFormattedImdbVotes`: () Для получения отформатированных голосов IMDB

## `formatVoteCount()`

**Описание:** Форматирует количество голосов с суффиксами K/M
Преобразует числовое значение количества голосов в удобочитаемый формат
с использованием суффиксов K (тысячи) и M (миллионы). Например, 1500 будет
отображаться как "1.5K", а 2000000 как "2.0M".

**Параметры:**

* `$count` (int): Количество голосов для форматирования

**Возвращает:** `string` Отформатированное строковое представление количества голосов

**См. также:**

* `Votes::getFormattedKpVotes`: () Для получения отформатированных голосов Кинопоиска
* `Votes::getFormattedImdbVotes`: () Для получения отформатированных голосов IMDB

## `getFormattedImdbVotes()`

**Описание:** Возвращает отформатированное количество голосов IMDB
Предоставляет количество голосов с IMDB в удобочитаемом формате
с использованием суффиксов K/M. Возвращает null, если голоса отсутствуют.

**Возвращает:** `string|null` Отформатированное количество голосов или null, если голоса отсутствуют

**См. также:**

* `Votes::formatVoteCount`: () Для форматирования количества голосов
* `Votes::getFormattedKpVotes`: () Для получения отформатированных голосов Кинопоиска

## `validate()`

**Описание:** Валидирует данные модели

**Возвращает:** `bool True` если данные валидны

