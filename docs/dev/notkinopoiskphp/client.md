# Client - –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∏–µ–Ω—Ç

–û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∏–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Kinopoisk API.

---

**üìö –ù–∞–≤–∏–≥–∞—Ü–∏—è:** [–ì–ª–∞–≤–Ω–∞—è](index.md) ‚Üí Client

**üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã:**

- [FilmService](./services/film-service.md) - –°–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∏–ª—å–º–∞–º–∏
- [PersonService](./services/person-service.md) - –°–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–µ—Ä—Å–æ–Ω–∞–º–∏
- [MediaService](./services/media-service.md) - –°–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–µ–¥–∏–∞
- [UserService](./services/user-service.md) - –°–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- [ApiVersion](./enums/api-version.md) - –í–µ—Ä—Å–∏–∏ API
- [ApiException](./exceptions/api-exception.md) - –ë–∞–∑–æ–≤–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ API
- [InvalidApiKeyException](./exceptions/invalid-api-key-exception.md) - –ù–µ–≤–µ—Ä–Ω—ã–π API –∫–ª—é—á
- [RateLimitException](./exceptions/rate-limit-exception.md) - –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–∞
- [ResourceNotFoundException](./exceptions/resource-not-found-exception.md) - –†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω

---

## –û–ø–∏—Å–∞–Ω–∏–µ

–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –µ–¥–∏–Ω—É—é —Ç–æ—á–∫—É –≤—Ö–æ–¥–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Kinopoisk API. –°–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö: —Ñ–∏–ª—å–º—ã, –ø–µ—Ä—Å–æ–Ω—ã, —Å–µ—Ä–∏–∞–ª—ã –∏ –¥—Ä—É–≥–∏–µ.

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å API –∫–ª—é—á–æ–º
- –î–æ—Å—Ç—É–ø –∫ —Ä–∞–∑–ª–∏—á–Ω—ã–º —Å–µ—Ä–≤–∏—Å–∞–º API
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ HTTP –∫–ª–∏–µ–Ω—Ç–æ–º

## –°–≤–æ–π—Å—Ç–≤–∞

### `$films`

**–¢–∏–ø:** `\NotKinopoisk\Services\FilmService`

–°–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∏–ª—å–º–∞–º–∏.

### `$persons`

**–¢–∏–ø:** `\NotKinopoisk\Services\PersonService`

–°–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–µ—Ä—Å–æ–Ω–∞–º–∏ (–∞–∫—Ç–µ—Ä—ã, —Ä–µ–∂–∏—Å—Å–µ—Ä—ã –∏ —Ç.–¥.).

### `$users`

**–¢–∏–ø:** `\NotKinopoisk\Services\UserService`

–°–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏.

### `$media`

**–¢–∏–ø:** `\NotKinopoisk\Services\MediaService`

–°–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–µ–¥–∏–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º.

## –ú–µ—Ç–æ–¥—ã

### `__construct(?string $apiKey = null, array $config = [])`

–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–ª–∏–µ–Ω—Ç–∞.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**

- `$apiKey` (string|null) - API –∫–ª—é—á –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ Kinopoisk API. –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω, –±—É–¥–µ—Ç –ø–æ–ø—ã—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è `KINOPOISK_API_KEY`
- `$config` (array) - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è HTTP –∫–ª–∏–µ–Ω—Ç–∞

**–ò—Å–∫–ª—é—á–µ–Ω–∏—è:**

- `InvalidArgumentException` - –ï—Å–ª–∏ API –∫–ª—é—á –Ω–µ —É–∫–∞–∑–∞–Ω –∏ –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–ü—Ä–∏–º–µ—Ä:**

```php
// –° API –∫–ª—é—á–æ–º
$client = new Client('your-api-key');

// –ë–µ–∑ API –∫–ª—é—á–∞ (–±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è)
$client = new Client();

// –° –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
$client = new Client('your-api-key', [
    'timeout' => 30,
    'headers' => ['User-Agent' => 'MyApp/1.0']
]);
```

### `get(string $uri, array $query = []): array`

–í—ã–ø–æ–ª–Ω—è–µ—Ç GET –∑–∞–ø—Ä–æ—Å –∫ API.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**

- `$uri` (string) - URI –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞
- `$query` (array) - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**

- `array` - –û—Ç–≤–µ—Ç –æ—Ç API

**–ò—Å–∫–ª—é—á–µ–Ω–∏—è:**

- `ApiException` - –ü—Ä–∏ –æ—à–∏–±–∫–µ API
- `InvalidApiKeyException` - –ü—Ä–∏ –Ω–µ–≤–µ—Ä–Ω–æ–º API –∫–ª—é—á–µ
- `RateLimitException` - –ü—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
- `ResourceNotFoundException` - –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Ä–µ—Å—É—Ä—Å–∞

### `request(string $method, string $uri, array $options = []): array`

–í—ã–ø–æ–ª–Ω—è–µ—Ç HTTP –∑–∞–ø—Ä–æ—Å –∫ API.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**

- `$method` (string) - HTTP –º–µ—Ç–æ–¥ (GET, POST, PUT, DELETE)
- `$uri` (string) - URI –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞
- `$options` (array) - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–∞

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**

- `array` - –û—Ç–≤–µ—Ç –æ—Ç API

**–ò—Å–∫–ª—é—á–µ–Ω–∏—è:**

- `ApiException` - –ü—Ä–∏ –æ—à–∏–±–∫–µ API
- `InvalidApiKeyException` - –ü—Ä–∏ –Ω–µ–≤–µ—Ä–Ω–æ–º API –∫–ª—é—á–µ
- `RateLimitException` - –ü—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
- `ResourceNotFoundException` - –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Ä–µ—Å—É—Ä—Å–∞

### `getApiKey(): string|null`

–ü–æ–ª—É—á–∞–µ—Ç —Ç–µ–∫—É—â–∏–π API –∫–ª—é—á.

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**

- `string|null` - API –∫–ª—é—á –∏–ª–∏ null, –µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

### `getBaseUrl(): string`

–ü–æ–ª—É—á–∞–µ—Ç –±–∞–∑–æ–≤—ã–π URL –¥–ª—è API –∑–∞–ø—Ä–æ—Å–æ–≤.

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**

- `string` - –ë–∞–∑–æ–≤—ã–π URL (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: https://kinopoiskapiunofficial.tech)

### `setBaseUrl(string $url): void`

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –±–∞–∑–æ–≤—ã–π URL –¥–ª—è API –∑–∞–ø—Ä–æ—Å–æ–≤.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**

- `$url` (string) - –ù–æ–≤—ã–π –±–∞–∑–æ–≤—ã–π URL

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```php
<?php

use NotKinopoisk\Client;

// –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞
$client = new Client('your-api-key');

// –†–∞–±–æ—Ç–∞ —Å —Ñ–∏–ª—å–º–∞–º–∏
$film = $client->films->getById(301);
echo $film->getDisplayName();

// –†–∞–±–æ—Ç–∞ —Å –ø–µ—Ä—Å–æ–Ω–∞–º–∏
$person = $client->persons->getById(12345);
echo $person->getDisplayName();

// –ü–æ–∏—Å–∫ –ø–µ—Ä—Å–æ–Ω
$searchResult = $client->persons->search('–¢–æ–º –ö—Ä—É–∑');
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```php
<?php

use NotKinopoisk\Client;

// API –∫–ª—é—á –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è KINOPOISK_API_KEY
$client = new Client();

// –†–∞–±–æ—Ç–∞ —Å –º–µ–¥–∏–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º
$images = $client->media->getImages(301, ImageType::POSTER);
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π

```php
<?php

use NotKinopoisk\Client;

$config = [
    'timeout' => 60,
    'headers' => [
        'User-Agent' => 'MyApp/1.0',
        'Accept' => 'application/json'
    ],
    'verify' => true
];

$client = new Client('your-api-key', $config);
```

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

```php
<?php

use NotKinopoisk\Client;
use NotKinopoisk\Exception\ApiException;
use NotKinopoisk\Exception\InvalidApiKeyException;
use NotKinopoisk\Exception\RateLimitException;
use NotKinopoisk\Exception\ResourceNotFoundException;

try {
    $client = new Client('your-api-key');
    $film = $client->films->getById(301);
} catch (InvalidApiKeyException $e) {
    echo "–ù–µ–≤–µ—Ä–Ω—ã–π API –∫–ª—é—á: " . $e->getMessage();
} catch (RateLimitException $e) {
    echo "–ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤: " . $e->getMessage();
} catch (ResourceNotFoundException $e) {
    echo "–†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω: " . $e->getMessage();
} catch (ApiException $e) {
    echo "–û—à–∏–±–∫–∞ API: " . $e->getMessage();
}
```

