---
tags:
  - PHP
  - API
  - –ò—Å–∫–ª—é—á–µ–Ω–∏—è
title: "–ò—Å–∫–ª—é—á–µ–Ω–∏—è - KinopoiskUnofficialTech PHP Wrapper"
description: "–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∏—Å–∫–ª—é—á–µ–Ω–∏—è. –ß–∞—Å—Ç—å API wrapper –¥–ª—è –ö–∏–Ω–æ–ü–æ–∏—Å–∫–∞."
keywords: "PHP, API, –ò—Å–∫–ª—é—á–µ–Ω–∏—è, –∏—Å–∫–ª—é—á–µ–Ω–∏—è, DevCraft, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è"
author: "Maxim Harder"
og:title: "–ò—Å–∫–ª—é—á–µ–Ω–∏—è"
og:description: "–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∏—Å–∫–ª—é—á–µ–Ω–∏—è. –ß–∞—Å—Ç—å API wrapper –¥–ª—è –ö–∏–Ω–æ–ü–æ–∏—Å–∫–∞."
og:image: "https://devcraft.club/data/assets/logo_default/devcraftx2.png"
twitter:title: "–ò—Å–∫–ª—é—á–µ–Ω–∏—è"
twitter:description: "–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∏—Å–∫–ª—é—á–µ–Ω–∏—è. –ß–∞—Å—Ç—å API wrapper –¥–ª—è –ö–∏–Ω–æ–ü–æ–∏—Å–∫–∞."
---

# –ò—Å–∫–ª—é—á–µ–Ω–∏—è

–ö–ª–∞—Å—Å—ã –∏—Å–∫–ª—é—á–µ–Ω–∏–π –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –≤ Kinopoisk API.

---

**üìö –ù–∞–≤–∏–≥–∞—Ü–∏—è:** [–ì–ª–∞–≤–Ω–∞—è](../index.md) ‚Üí –ò—Å–∫–ª—é—á–µ–Ω–∏—è

---

## üìã –°–ø–∏—Å–æ–∫ –∏—Å–∫–ª—é—á–µ–Ω–∏–π

### ‚ö†Ô∏è [ApiException](./api-exception.md)

–ë–∞–∑–æ–≤–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö –æ—à–∏–±–æ–∫, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å Kinopoisk API.

**–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**

- –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π API
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ü–µ–ø–æ—á–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- –ö–æ–¥—ã –æ—à–∏–±–æ–∫ (–æ–±—ã—á–Ω–æ HTTP —Å—Ç–∞—Ç—É—Å –∫–æ–¥—ã)
- –î–µ—Ç–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

**–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:** –ù–∞—Å–ª–µ–¥—É–µ—Ç –æ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ `Exception` PHP

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±—â–∏—Ö –æ—à–∏–±–æ–∫ API

### üîë [InvalidApiKeyException](./invalid-api-key-exception.md)

–ò—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –Ω–µ–≤–µ—Ä–Ω–æ–≥–æ –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–µ–≥–æ API –∫–ª—é—á–∞.

**–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**

- –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–±–ª–µ–º —Å API –∫–ª—é—á–æ–º
- –ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥ –æ—à–∏–±–∫–∏ 401
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
- –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –æ—Ç ApiException

**–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:** –ù–∞—Å–ª–µ–¥—É–µ—Ç –æ—Ç `ApiException`

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

### ‚è±Ô∏è [RateLimitException](./rate-limit-exception.md)

–ò—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è –ª–∏–º–∏—Ç–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API.

**–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**

- –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è –ª–∏–º–∏—Ç–æ–≤
- –ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥ –æ—à–∏–±–∫–∏ 429
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
- –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –æ—Ç ApiException

**–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:** –ù–∞—Å–ª–µ–¥—É–µ—Ç –æ—Ç `ApiException`

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è –ª–∏–º–∏—Ç–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤

### üîç [ResourceNotFoundException](./resource-not-found-exception.md)

–ò—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –Ω–µ–Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ API.

**–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**

- –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –Ω–µ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
- –ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥ –æ—à–∏–±–∫–∏ 404
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
- –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –æ—Ç ApiException

**–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:** –ù–∞—Å–ª–µ–¥—É–µ—Ç –æ—Ç `ApiException`

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤

### ‚úÖ [KpValidationException](./kp-validation-exception.md)

–ò—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö.

**–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**

- –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- –î–µ—Ç–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –æ—Ç ApiException

**–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:** –ù–∞—Å–ª–µ–¥—É–µ—Ç –æ—Ç `ApiException`

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –°–µ—Ä–≤–∏—Å—ã

- [FilmService](../services/film-service.md) - –ú–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å –≤—Å–µ —Ç–∏–ø—ã –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- [PersonService](../services/person-service.md) - –ú–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å –≤—Å–µ —Ç–∏–ø—ã –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- [MediaService](../services/media-service.md) - –ú–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å –≤—Å–µ —Ç–∏–ø—ã –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- [UserService](../services/user-service.md) - –ú–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å –≤—Å–µ —Ç–∏–ø—ã –∏—Å–∫–ª—é—á–µ–Ω–∏–π

### –ú–æ–¥–µ–ª–∏

- [Film](../models/film.md) - –ú–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å KpValidationException
- [Person](../models/person.md) - –ú–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å KpValidationException
- [Staff](../models/staff.md) - –ú–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å KpValidationException
- [Review](../models/review.md) - –ú–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å KpValidationException

### –û—Ç–≤–µ—Ç—ã

- [DefaultResponse](../responses/default-response.md) - –ú–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å KpValidationException
- [PaginatedResponse](../responses/paginated-response.md) - –ú–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å KpValidationException
- [KeywordSearchResponse](../responses/keyword-search-response.md) - –ú–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å KpValidationException

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π

```php
<?php

require_once 'vendor/autoload.php';

use NotKinopoisk\Client;
use NotKinopoisk\Exception\ApiException;
use NotKinopoisk\Exception\InvalidApiKeyException;
use NotKinopoisk\Exception\RateLimitException;
use NotKinopoisk\Exception\ResourceNotFoundException;
use NotKinopoisk\Exception\KpValidationException;

// –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞
$client = new Client('your-api-key');

// –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
try {
    $film = $client->films->getById(999999);
    echo "–§–∏–ª—å–º –ø–æ–ª—É—á–µ–Ω: {$film->getDisplayName()}\n";
} catch (ResourceNotFoundException $e) {
    echo "–§–∏–ª—å–º –Ω–µ –Ω–∞–π–¥–µ–Ω: {$e->getMessage()}\n";
    echo "–ö–æ–¥ –æ—à–∏–±–∫–∏: {$e->getCode()}\n";
} catch (RateLimitException $e) {
    echo "–ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤: {$e->getMessage()}\n";
    echo "–ö–æ–¥ –æ—à–∏–±–∫–∏: {$e->getCode()}\n";
    // –ñ–¥–µ–º –∏ –ø–æ–≤—Ç–æ—Ä—è–µ–º
    sleep(1);
} catch (InvalidApiKeyException $e) {
    echo "–ù–µ–≤–µ—Ä–Ω—ã–π API –∫–ª—é—á: {$e->getMessage()}\n";
    echo "–ö–æ–¥ –æ—à–∏–±–∫–∏: {$e->getCode()}\n";
} catch (KpValidationException $e) {
    echo "–û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏: {$e->getMessage()}\n";
    echo "–ö–æ–¥ –æ—à–∏–±–∫–∏: {$e->getCode()}\n";
} catch (ApiException $e) {
    echo "–û–±—â–∞—è –æ—à–∏–±–∫–∞ API: {$e->getMessage()}\n";
    echo "–ö–æ–¥ –æ—à–∏–±–∫–∏: {$e->getCode()}\n";
}
```

### –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π

```php
// –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–≥–æ –∏—Å–∫–ª—é—á–µ–Ω–∏—è API
$apiException = new ApiException('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏ –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ API', 500);

echo "–°–æ–æ–±—â–µ–Ω–∏–µ: {$apiException->getMessage()}\n";
echo "–ö–æ–¥: {$apiException->getCode()}\n";

// –°–æ–∑–¥–∞–Ω–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è —Å —Ü–µ–ø–æ—á–∫–æ–π
$previousException = new Exception('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏');
$apiException = new ApiException('–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ', 500, $previousException);

if ($apiException->getPrevious()) {
    echo "–ü—Ä–∏—á–∏–Ω–∞: " . $apiException->getPrevious()->getMessage() . "\n";
}

// –°–æ–∑–¥–∞–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π
$notFoundException = new ResourceNotFoundException('–§–∏–ª—å–º —Å ID 12345 –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç');
$rateLimitException = new RateLimitException();
$invalidKeyException = new InvalidApiKeyException();
$validationException = new KpValidationException('–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ñ–∏–ª—å–º–∞');
```

## üìñ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –≤—ã–∑–æ–≤ API

```php
// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è API –∑–∞–ø—Ä–æ—Å–æ–≤
function safeApiCall(callable $apiCall, string $operation = 'API –æ–ø–µ—Ä–∞—Ü–∏—è'): mixed {
    try {
        return $apiCall();
    } catch (ApiException $e) {
        logApiError($e, $operation);
        return null;
    }
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫ API
function logApiError(ApiException $e, string $operation): void {
    $logMessage = sprintf(
        "[%s] API Error in %s: %s (Code: %d) in %s:%d",
        date('Y-m-d H:i:s'),
        $operation,
        $e->getMessage(),
        $e->getCode(),
        $e->getFile(),
        $e->getLine()
    );

    error_log($logMessage);

    if ($e->getPrevious()) {
        error_log("Previous exception: " . $e->getPrevious()->getMessage());
    }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
$film = safeApiCall(
    fn() => $client->films->getById(123),
    '–ø–æ–ª—É—á–µ–Ω–∏–µ —Ñ–∏–ª—å–º–∞ –ø–æ ID'
);

if ($film === null) {
    echo "–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å —Ñ–∏–ª—å–º\n";
}
```

### –î–µ—Ç–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

```php
// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –æ—à–∏–±–∫–µ
function getApiErrorDetails(ApiException $e): array {
    return [
        'message' => $e->getMessage(),
        'code' => $e->getCode(),
        'file' => $e->getFile(),
        'line' => $e->getLine(),
        'trace' => $e->getTraceAsString(),
        'previous' => $e->getPrevious() ? [
            'message' => $e->getPrevious()->getMessage(),
            'code' => $e->getPrevious()->getCode(),
            'class' => get_class($e->getPrevious())
        ] : null
    ];
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞ –æ—à–∏–±–∫–∏ –ø–æ –∫–æ–¥—É
function getApiErrorType(int $code): string {
    return match (true) {
        $code >= 400 && $code < 500 => 'Client Error',
        $code >= 500 && $code < 600 => 'Server Error',
        $code === 0 => 'Network Error',
        default => 'Unknown Error'
    };
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–µ
function createUserFriendlyMessage(ApiException $e): string {
    $errorType = getApiErrorType($e->getCode());

    return match ($errorType) {
        'Client Error' => '–û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.',
        'Server Error' => '–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.',
        'Network Error' => '–û—à–∏–±–∫–∞ —Å–µ—Ç–∏. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É.',
        default => '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞: ' . $e->getMessage()
    };
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
try {
    $client->films->getById(999999);
} catch (ApiException $e) {
    $errorDetails = getApiErrorDetails($e);
    $userMessage = createUserFriendlyMessage($e);

    echo "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ: {$userMessage}\n";
    echo "–¢–∏–ø –æ—à–∏–±–∫–∏: " . getApiErrorType($e->getCode()) . "\n";
    echo "–î–µ—Ç–∞–ª–∏ –æ—à–∏–±–∫–∏:\n";
    print_r($errorDetails);
}
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π

```php
// –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
try {
    $film = $client->films->getById(999999);
} catch (ResourceNotFoundException $e) {
    echo "–†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω: {$e->getMessage()}\n";
    // –ú–æ–∂–Ω–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –ø–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
    $searchResults = $client->films->searchByKeyword('–º–∞—Ç—Ä–∏—Ü–∞');
    if (!$searchResults->isEmpty()) {
        echo "–ù–∞–π–¥–µ–Ω—ã –ø–æ—Ö–æ–∂–∏–µ —Ñ–∏–ª—å–º—ã\n";
    }
}

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è –ª–∏–º–∏—Ç–∞
try {
    $films = $client->films->getTop();
} catch (RateLimitException $e) {
    echo "–ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤\n";
    // –ñ–¥–µ–º –∏ –ø–æ–≤—Ç–æ—Ä—è–µ–º
    sleep(2);
    $films = $client->films->getTop();
}

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–≤–µ—Ä–Ω–æ–≥–æ API –∫–ª—é—á–∞
try {
    $apiInfo = $client->user->getApiKeyInfo();
} catch (InvalidApiKeyException $e) {
    echo "–ù–µ–≤–µ—Ä–Ω—ã–π API –∫–ª—é—á\n";
    // –ú–æ–∂–Ω–æ –ø–æ–ø—Ä–æ—Å–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–ª—é—á
    echo "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å API –∫–ª—é—á–∞\n";
}

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
try {
    $film = Film::fromArray(['invalid' => 'data']);
} catch (KpValidationException $e) {
    echo "–û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏: {$e->getMessage()}\n";
    // –ú–æ–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é, –∫–∞–∫–∏–µ –ø–æ–ª—è –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
}
```

## üîß –û–±—â–∏–µ –º–µ—Ç–æ–¥—ã

–í—Å–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –Ω–∞—Å–ª–µ–¥—É—é—Ç –º–µ—Ç–æ–¥—ã –æ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ `Exception`:

### getMessage()

```php
public function getMessage(): string
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ.

### getCode()

```php
public function getCode(): int
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–¥ –æ—à–∏–±–∫–∏.

### getFile()

```php
public function getFile(): string
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É, –≥–¥–µ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞.

### getLine()

```php
public function getLine(): int
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–º–µ—Ä —Å—Ç—Ä–æ–∫–∏, –≥–¥–µ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞.

### getTrace()

```php
public function getTrace(): array
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤.

### getTraceAsString()

```php
public function getTraceAsString(): string
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤ –≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫–∏.

### getPrevious()

```php
public function getPrevious(): ?Throwable
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –≤ —Ü–µ–ø–æ—á–∫–µ.

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π

### ApiException

- **–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:** Exception
- **–ö–æ–¥ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:** 0
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π API

### InvalidApiKeyException

- **–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:** ApiException
- **–ö–æ–¥ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:** 401
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –û—à–∏–±–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

### RateLimitException

- **–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:** ApiException
- **–ö–æ–¥ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:** 429
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤

### ResourceNotFoundException

- **–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:** ApiException
- **–ö–æ–¥ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:** 404
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –ù–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### KpValidationException

- **–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:** ApiException
- **–ö–æ–¥ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:** 400
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã

- [–°–µ—Ä–≤–∏—Å—ã](../services/index.md) - –í—ã–±—Ä–∞—Å—ã–≤–∞—é—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏—è
- [–ú–æ–¥–µ–ª–∏](../models/index.md) - –ú–æ–≥—É—Ç –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- [–û—Ç–≤–µ—Ç—ã](../responses/index.md) - –ú–æ–≥—É—Ç –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- [–ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è](../enums/index.md) - –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –∏—Å–∫–ª—é—á–µ–Ω–∏—è—Ö
- [–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã](../interfaces/index.md) - –ë–∞–∑–æ–≤—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
