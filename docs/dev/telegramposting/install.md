# Telegram Posting

**Ссылка на разработку**: [<i class="fa-thin fa-paperclip"></i> Перейти к разработке](https://devcraft.club/downloads/telegram-posting.11/)

**Версия модификации**: <i class="fa-duotone fa-code-branch"></i> 1.7.0

## **Установка / Обновление**

**У вас три варианта для установки:**

1. **При помощи bat-Скрипта. Для пользователей Windows**

Для этого устанавливаем [7Zip](https://www.7-zip.org/download.html).
После установки запускаем скрипт install_archive.bat.
После завершения установки - загружаем install.zip в менеджер плагинов.

2. **Упаковать самому**

Любым архиватором запаковать всё содержимое в папке upload (нужен формат zip!), причём так, чтобы в корне архива был файл install.xml и папка engine.
Затем устанавливаем архив через менеджер плагинов.

3. **Просто залить**

Залейте папку engine в корень сайта и установите плагин через менеджер плагинов.

## Поддерживаемые теги для шаблона отправки

[Документация](./template_tags.md)

## **Вывод сообщений**

- **Текстовой вывод** - Обыкновенный вывод сообщений.
- **Галерейный вывод** - Вывод сообщений с поддержкой медиавставок (до 10-ти штук)
- **Сообщение с постером** - Вывод сообщения с основным постером, в качестве постера берётся первое указанное изображение, другие игнорируются
- **Сообщение с аудио** - Вывод сообщения с аудио, как основа, в качестве аудио берётся первое указанное аудио, другие игнорируются
- **Сообщение с видео** - Вывод сообщения с видео, как основа, в качестве видео берётся первое указанное видео, другие игнорируются

## **Подключение в сторонние разработки**

[Документация](./custom_add.md)

## **Отправка сообщений по крону**

!!! warning "Предупреждение!"
	Данный файл не обрабатывается системой плагинов, поэтому все правки должны быть сделаны в ручную!

Работу с кроном перенимает штатный файл **cron.php**, что находится в корне сайта. Открываем его и находим значение:

```php
$allow_cron = 
```

Если дальше стоит **0**, то меняем его на **1**, в противом случае - пропускаешм шаг.

Далее, ищем

```php
} elseif($cronmode == "antivirus") {
```

**Выше** добавляем:

```php
elseif($cronmode == "telegram") {
            include_once (DLEPlugins::Check(ENGINE_DIR . "/ajax/maharder/telegram/cronadd.php"));
            die ("done");
```

## Видео с настройкой

<div class="video-wrapper">
  <iframe width="1280" height="720" src="https://www.youtube.com/embed/BRclGvgccKw" frameborder="0" allowfullscreen></iframe>
</div>
