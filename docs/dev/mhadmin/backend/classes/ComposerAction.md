# Абстрактный класс: ComposerAction

---

### Свойства

* private $[packages](#property_packages)

---

### Методы

* public [destroy()](#method_destroy)
* public [init()](#method_init)
* public [install()](#method_install)
* public [require()](#method_require)
* public [update()](#method_update)
* private [application()](#method_application)

---

### Подробности

* Путь: engine/inc/maharder/_includes/classes/ComposerAction.php

---

## Свойства

<a id="property_packages"></a>
#### private $packages : array
---
**Тип:** <abbr title="array">Массив</abbr>


---

## Методы

<a id="method_destroy"></a>

### destroy

```
static public destroy() : void
```

##### Краткое содержание

Удаляет содержащиеся в директории файлы и настройки, связанные с Composer.

##### Описание

Метод проверяет, существует ли файл автозагрузчика Composer по заданному пути.
Если файл существует:

- Удаляются все файлы в указанной директории Composer с помощью функции `array_map` и `unlink`.
- Удаляется сама директория Composer с помощью функции `rmdir`.
- Устанавливается окружение Composer через `putenv`, указывая путь к исполняемому файлу Composer.

Данный метод не возвращает значения и предназначен для очистки и удаления данных Composer.

##### Возвращает:

```
void
```

---

<a id="method_init"></a>

### init

```
static public init() : void
```

##### Ошибки:

| Тип            | Описание |
|----------------|----------|
| \JsonException |          |

##### Возвращает:

```
void
```

---

<a id="method_install"></a>

### install

```
static public install() : void
```

##### Краткое содержание

Устанавливает зависимости проекта через Composer.

##### Описание

Метод инициализирует приложение Composer с помощью метода `application()`,
создает объект `ArrayInput` для команды `install` и выполняет её с помощью
метода `run()` экземпляра приложения.

Используется для выполнения командной строки Composer в коде PHP.

##### Ошибки:

| Тип            | Описание                                                               |
|----------------|------------------------------------------------------------------------|
| \JsonException | Может быть вызвано при ошибке обработки JSON в методе `application()`. |

##### Возвращает:

```
void
```

---

<a id="method_require"></a>

### require

```
static public require(string|null  name = null, string  version = "*") : void
```

##### Краткое содержание

Добавляет указанный пакет или все зарегистрированные пакеты в зависимости от переданных параметров.

##### Описание

Если имя пакета (`$name`) не указано, метод проходит по всем зарегистрированным
в `$packages` пакетам и вызывает себя для каждого из них.

В противном случае создается экземпляр `ArrayInput`, передающий команду для
установки указанного пакета с версией `$version`. После этого команда
выполняется с помощью метода `run()` приложения Composer.

##### Свойства:

| Название     | Тип          | По умолчанию  |
|--------------|--------------|---------------|
| **$name**    | string\|null | null          |
| **$version** | string       | &quot;*&quot; |

##### Ошибки:

| Тип            | Описание                                                                                 |
|----------------|------------------------------------------------------------------------------------------|
| \JsonException | Может выбросить исключение при ошибке обработки JSON (например, в методе `application`). |

##### Возвращает:

```
void
```

---

<a id="method_update"></a>

### update

```
static public update() : void
```

##### Краткое содержание

Выполняет обновление зависимостей проекта через Composer.

##### Описание

Метод создает экземпляр приложения Composer, используя метод `application()`,
передает команду `update` через объект `ArrayInput` и выполняет ее с помощью `run()`.

##### Ошибки:

| Тип            | Описание                                                          |
|----------------|-------------------------------------------------------------------|
| \JsonException | Может быть выброшено при обработке JSON в методе `application()`. |

##### Возвращает:

```
void
```

---

<a id="method_application"></a>

### application

```
static private application() : \Application
```

##### Краткое содержание

Инициализирует приложение и возвращает экземпляр класса Application.

##### Ошибки:

| Тип            | Описание                                                                                 |
|----------------|------------------------------------------------------------------------------------------|
| \JsonException | Исключение может быть выброшено, если возникнет ошибка обработки JSON при инициализации. |

##### Возвращает:

```
\Application
```

Экземпляр инициализированного приложения.
