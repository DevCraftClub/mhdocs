# Admin

Основной класс оформления административной панели и работы с ней

## Метод подключения

```php
include_once DLEPlugins::Check(ENGINE_DIR . '/inc/maharder/_includes/classes/Admin.php');
```

## Свойства

### cssArr

Массив со стилями

```php
private string[] $cssArr
```

---

### jsArr

Массив со скриптами

```php
private string[] $jsArr
```

---

### variables

Массив с различными переменными для шаблонизатора


| Параметр     | Описание                                                                                                          |
| ---------------------- | --------------------------------------------------------------------------------------------------------------------------- |
| css_dir              | Папка со стилями                                                                                            |
| js_dir               | Папка со скриптами                                                                                        |
| css                  | Массив со стилями                                                                                          |
| js                   | Массив со скриптами                                                                                      |
| url                  | Обычная ссылка для верного отображения стилей и скриптов на сайте |
| lic_link             | Ссылка на пользовательское соглашение                                                   |
| author               | Массив с информацией об авторе модуля                                                     |
| author.name          | Имя пользователя                                                                                           |
| author.contacts      | Массив с контактной информацией с автором                                             |
| author.contacts.name | Название контактной информации, к приерму E-Mail                                      |
| author.contacts.link | Ссылка для связи, к приерму mailto:dev@devcraft.club                                                |
| author.donate        | Массив с информацией по финансовой поддержке                                       |
| author.donate.name   | Название платёжной системы, к приерму PayPal                                              |
| author.donate.value  | Описание платёжной системы, к приерму paypal.me/MaximH                                    |
| author.donate.link   | Ссылка платёжной системы, к приерму https://paypal.me/MaximH                                |
| menu                 | Массив с ссылками для меню сайта                                                               |
| breadcrumbs          | Массив с ссылками на хлебные крошки                                                         |

```php
private array $variables
```

---

## Методы

### __construct

Конструктор класса
Создаёт нужные параметры для изначального старта

```php
public __construct(): mixed
```

---

### generate_link

Возвращает массив с данными о ссылке

```php
public static generate_link(string $name, string $href, string $type = 'link', array $children = [], string|null $data_val = null): array
```

* This method is **static**.

**Параметры:**


| Параметр    | Тип                  | Описание                                                                                                                                                               |
|-------------|----------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `$name`     | **string**           | Название ссылки                                                                                                                                                        |
| `$href`     | **string**           | Ссылка                                                                                                                                                                 |
| `$type`     | **string**           | Тип ссылки: link - простая ссылка, divider - разделитель, dropdown - выпадающее меню, data - оформляет элемент как div со скрытым дополнительным параметром \$data_val |
| `$children` | **array**            | Дочерние ссылки, если есть                                                                                                                                             |
| `$data_val` | **string&#124;null** | Дополнительный параметр для выпадающего меню                                                                                                                           |

---

### setLink

Добавляет ссылку в массив меню

```php
public setLink(string $link): void
```

**Параметры:**


| Параметр | Тип   | Описание |
| ------------------ |-------| ------------------ |
| `$link`          | ***string* | Ссылка     |

---

### setLinks

Добавляет несколько ссылок в массив меню

```php
public setLinks(array $links): void
```

**Параметры:**


| Параметр | Тип   | Описание                 |
| ------------------ |-------| ---------------------------------- |
| `$links`         | **array** | Массив с ссылками |

---

### preSetMenu

Подготовка меню для админки

Берёт все доступные ссылки меню из админки самой DLE

```php
private preSetMenu(): void
```

---

### getVariables

Возвращает переменные

```php
public getVariables(): array
```

---

### setVar

```php
public setVar(string $name, string $value): mixed
```

**Параметры:**


| Параметр | Тип        | Описание                      |
| ------------------ |------------| --------------------------------------- |
| `$name`          | **string** | Название переменной |
| `$value`         | **string**      | Значение переменной |

---

### setVars

Добавляет или обновляет несколько переменных

```php
public setVars(array $arr = []): void
```

**Параметры:**


| Параметр | Тип    | Описание               |
| ------------------ | ----------- | -------------------------------- |
| `$arr`           | **array** | Массив с данными |

---

### setCss

Добавляет новый CSS-файл в массив

```php
public setCss(string $css): void
```

**Параметры:**


| Параметр | Тип     | Описание           |
| ------------------ | ------------ | ---------------------------- |
| `$css`           | **string** | Ссылка на файл |

---

### setJs

Добавляет новый JS-файл в массив

```php
public setJs(string $js): void
```

**Параметры:**


| Параметр | Тип     | Описание           |
| ------------------ | ------------ | ---------------------------- |
| `$js`            | **string** | Ссылка на файл |

---

### htmlStatic

Обрабатывает ссылки на статичные файлы в HTML формат, добавляет к ним нужные теги

```php
public htmlStatic(string $data, string $view = 'html', string $type = 'css'): array
```

**Параметры:**


| Параметр | Тип     | Описание                                                                                                        |
| ------------------ | ------------ | ------------------------------------------------------------------------------------------------------------------------- |
| `$data`          | **string** | Ссылка на статичный файл стиля или функции                                          |
| `$view`          | **string** | Тип возвращения ссылки: html или link (Описание ниже). по умолчанию: html |
| `$type`          | **string** | Тип файла: css или js. По умолчанию: css                                                          |

**Параметр $view**


| Параметр | Описание                                                                                  |
| ------------------ | --------------------------------------------------------------------------------------------------- |
| html             | Возвращает ссылку подключения файла:\<link...\> или \<script\> |
| link             | Возвращает чистую ссылку                                                    |

---

### upload_file

*В разработке*

```php
public upload_file(): mixed
```

---

## Унаследованные методы

### AssetsChecker

**Документация**: [AssetsChecker](./assetschecker.md)

### DataLoader

**Документация**: [DataLoader](./dataloader.md)

### DleData

**Документация**: [DleData](./dledata.md)

### LogGenerator

**Документация**: [LogGenerator](./loggenerator.md)

---
